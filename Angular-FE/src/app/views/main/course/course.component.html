<div class="flex">
  <!-- code c≈© -->
  <!-- <app-search
    [enableCourseFilters]="true"
    [availableTags]="availableTags"
    (searchCriteriaChange)="onSearchCriteriaChange($event)"
  ></app-search> -->

<app-search
  [enableCourseFilters]="true"
  [availableTags]="availableTags"
  [availableTransactionTypes]="availableTransactionTypes"
  (searchCriteriaChange)="onSearchChanged($event)">
</app-search>
  <div class="course-container">
    <!-- G·ª¢I √ù AI -->
    <div class="recommend-section">
      <h3 class="highlight-title">üéØ G·ª£i √Ω kh√≥a h·ªçc d√†nh ri√™ng cho b·∫°n</h3>
      <div class="course-grid">
        <mat-card
          *ngFor="let course of recommendedCourses"
          class="course-card recommended"
          [routerLink]="['/main/course', course.id]"
        >
          <img [src]="course.imageUrl" alt="" class="course-image" />
          <mat-card-content class="flex-col content">
            <mat-card-title>{{ course.title }}</mat-card-title>
            <span class="s-subtitle">{{ course.desc }}</span>
            <mat-chip-listbox>
              <mat-chip *ngFor="let tag of course.tags" disabled>
                {{ tag | titlecase }}
              </mat-chip>
            </mat-chip-listbox>
            <div class="flex items-center">
              <span *ngFor="let star of generateStars(course.rating)" class="star">
                <mat-icon *ngIf="star === 'full'">star</mat-icon>
                <mat-icon *ngIf="star === 'half'">star_half</mat-icon>
                <mat-icon *ngIf="star === 'empty'">star_border</mat-icon>
              </span>
            </div>
            <span class="price">{{ getFormattedPrice(course.price) | async }}</span>
          </mat-card-content>
        </mat-card>
      </div>
    </div>

    <!-- T·∫§T C·∫¢ KHO√Å H·ªåC -->
    <span class="m-title">T·∫•t c·∫£ kh√≥a h·ªçc</span>
    <div class="course-grid">
      <mat-card
        *ngFor="let course of filteredCourses"
        class="course-card"
        [routerLink]="['/main/course', course.id]"
      >
        <img [src]="course.imageUrl" alt="" class="course-image" />
        <mat-card-content class="flex-col content">
          <mat-card-title>{{ course.title }}</mat-card-title>
          <span class="s-subtitle">{{ course.desc }}</span>
          <mat-chip-listbox>
            <mat-chip *ngFor="let tag of course.tags" disabled>
              {{ tag | titlecase }}
            </mat-chip>
          </mat-chip-listbox>
          <div class="flex items-center">
            <span *ngFor="let star of generateStars(course.rating)" class="star">
              <mat-icon *ngIf="star === 'full'">star</mat-icon>
              <mat-icon *ngIf="star === 'half'">star_half</mat-icon>
              <mat-icon *ngIf="star === 'empty'">star_border</mat-icon>
            </span>
          </div>
          <span class="price">{{ getFormattedPrice(course.price) | async }}</span>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
